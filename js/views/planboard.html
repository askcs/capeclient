<section id="planboard" ng-controller="timeline">







  <!-- page header -->
  <div class="page-header">
    <h2>Planboard</h2>
    <div class="btn-group pull-right">
      <button type="submit" 
              ng-click="toggleSlotForm()" 
              class="btn btn-success {{(views.slot.add==true) && 'active'}}">{{ui.planboard.newAvail}}</button>
    </div>
  </div>
  <!-- end page header -->







  <!-- timeline controls -->
  <div class="row-fluid" id="timeline-controls" ng-controller="timeline-navigation">
  

    <!-- core timeline controls -->
    <div class="pull-left" style="margin-top: 10px">

      <!-- timeline scopers -->
      <div class="btn-group pull-left" style="margin-right: 5px">
        <button type="button" 
                ng-model="timeline.scope.day" 
                class="btn {{(timeline.scope.day==true) && 'active'}}" 
                ng-click="timelineScoper('day')">{{ui.planboard.day}}</button>
        <button type="button" 
                ng-model="timeline.scope.week" 
                class="btn {{(timeline.scope.week==true) && 'active'}}" 
                ng-click="timelineScoper('week')">{{ui.planboard.week}}</button>
        <button type="button" 
                ng-model="timeline.scope.month" 
                class="btn {{(timeline.scope.month==true) && 'active'}}" 
                ng-click="timelineScoper('month')">{{ui.planboard.month}}</button>
      </div>
      <!-- end timeline scopers -->

      <!-- timeline navigation -->
      <div class="btn-group pull-left" style="margin-right: 5px">
        <button type="button" 
                class="btn"
                ng-click="timelineBefore(timeline.scope)"><i class="icon-arrow-left"></i></button>
        <button type="button" 
                class="btn"
                ng-click="timelineZoomIn()"><i class="icon-zoom-in"></i></button>
        <button type="button" 
                class="btn"
                ng-click="timelineZoomOut()"><i class="icon-zoom-out"></i></button>
        <button type="button" 
                class="btn"
                ng-click="timelineAfter(timeline.scope)"><i class="icon-arrow-right"></i></button>
      </div>
      <!-- end timeline navigation -->

    </div>
    <!-- end core timeline controls -->

    <!-- range indicator -->
    <div class="pull-right" style="text-align: right">
      <h4 style="font-weight: normal">
        {{timeline.range|rangeMainFilter}}<br>
        <!-- timeline scope info -->
        <div style="font-size: 15px; font-weight: lighter">
        <span>{{timeline|rangeInfoFilter}}</span>
        </div>
        <!-- end timeline scope info -->
      </h4>
    </div>
    <!-- end range indicator -->

  </div>
  <!-- end timeline controls -->









  <!-- slot controls -->
  <div class="row-fluid" ng-show="views.slot.add || views.slot.edit || views.group || views.wish || views.member">

    <form class="form-inline form-toggled well">

      <!-- close btn -->
      <button ng-click="resetInlineForms()" 
              class="close">&times;</button>
      <!-- end close btn -->
    
      <h4 ng-show="views.slot.add">{{ui.planboard.newAvail}}</h4>
      <h4 ng-show="views.slot.edit">{{ui.planboard.updateAvail}}</h4>
      <h4 ng-show="views.group">{{slot.group|stripHtml}}</h4>
      <h4 ng-show="views.wish">{{slot.group|stripHtml}} (Wishes)</h4>
      <h4 ng-show="views.member">{{slot.member|convertUserIdToName}}</h4>

      <hr>

      <!-- slot start -->
      <div class="form-elements-group" ng-show="browser.mobile">
        <label>{{ui.planboard.from}}</label>

        <!-- datetime -->
        <div class="control-group dater-mobile" ng-show="views.slot.add || views.slot.edit || views.wish">
          <input  name="date-start" 
                  type="datetime"
                  ng-model="slot.start.datetime">
        </div>
        <div class="control-group dater-mobile" ng-show="views.group || views.member">
          <input  name="date-start" 
                  type="datetime"
                  ng-model="slot.start.datetime"
                  disabled>
        </div>
        <!-- end datetime -->

      </div>
      <div class="form-elements-group" ng-hide="browser.mobile">
        <label>{{ui.planboard.from}}</label>

        <!-- date -->
        <div class="control-group dater" ng-show="views.slot.add || views.slot.edit || views.wish">
          <input  name="date-start" 
                  type="text" 
                  ng-model="slot.start.date" 
                  data-date-format="dd-mm-yyyy" 
                  bs-datepicker="">
          <i class="icon-calendar"></i>
        </div>
        <div class="control-group dater" ng-show="views.group || views.member">
          <input  name="date-start" 
                  type="text"
                  ng-model="slot.start.date"
                  disabled>
          <i class="icon-calendar"></i>
        </div>
        <!-- end date -->

        <!-- time -->
        <div class="control-group timer" ng-show="views.slot.add || views.slot.edit || views.wish">
          <input  name="time-start" 
                  type="text" 
                  ng-model="slot.start.time" 
                  bs-timepicker>
          <i class="icon-time"></i>
        </div>
        <div class="control-group timer" ng-show="views.group || views.member">
          <input  name="time-start" 
                  type="text" 
                  ng-model="slot.start.time" 
                  disabled>
          <i class="icon-time"></i>
        </div>
        <!-- end time -->

      </div>
      <!-- end slot start -->

      <!-- slot end -->
      <div class="form-elements-group" ng-show="browser.mobile">
        <label>{{ui.planboard.from}}</label>

        <!-- datetime -->
        <div class="control-group dater-mobile" ng-show="views.slot.add || views.slot.edit || views.wish">
          <input  name="date-start" 
                  type="datetime"
                  ng-model="slot.end.datetime">
        </div>
        <div class="control-group dater-mobile" ng-show="views.group || views.member">
          <input  name="date-start" 
                  type="datetime"
                  ng-model="slot.end.datetime"
                  disabled>
        </div>
        <!-- end datetime -->

      </div>
      <div class="form-elements-group" ng-hide="browser.mobile">
        <label>{{ui.planboard.till}}</label>

        <!-- date -->
        <div class="control-group dater" ng-show="views.slot.add || views.slot.edit || views.wish">
          <input  name="date-end" 
                  type="text" 
                  ng-model="slot.end.date" 
                  data-date-format="dd-mm-yyyy" 
                  bs-datepicker="">
          <i class="icon-calendar"></i>
        </div>
        <div class="control-group dater" ng-show="views.group || views.member">
          <input  name="date-end" 
                  type="text" 
                  ng-model="slot.end.date" 
                  disabled>
          <i class="icon-calendar"></i>
        </div>
        <!-- end date -->

        <!-- time -->
        <div class="control-group timer" ng-show="views.slot.add || views.slot.edit || views.wish">
          <input  name="time-end" 
                  type="text" 
                  ng-model="slot.end.time" 
                  bs-timepicker>
          <i class="icon-time"></i>
        </div>
        <div class="control-group timer" ng-show="views.group || views.member">
          <input  name="time-end" 
                  type="text" 
                  ng-model="slot.end.time" 
                  disabled>
          <i class="icon-time"></i>
        </div>
        <!-- end time -->

      </div>
      <!-- end slot end -->

      <!-- slot state -->
      <div class="form-elements-group" ng-show="views.slot.add || views.slot.edit || views.member">
        <label>{{ui.planboard.state}}</label>
        <select ng-model="slot.state" 
                ng-options="option as value for (option, value) in states" 
                ng-show="views.slot.add || views.slot.edit">
          <option value="">{{ui.planboard.selectAState}}</option>
        </select>
        <select ng-model="slot.state" 
                disabled
                ng-options="option as value for (option, value) in states"
                ng-show="views.member">
        </select>
      </div>
      <!-- end slot state -->

      <!-- slot recursive -->
      <div class="form-elements-group rightest" ng-show="views.slot.add || views.slot.edit">
        <label>{{ui.planboard.reoccuring}}</label>
        <input type="checkbox" ng-model="slot.recursive">
      </div>
      <!-- end slot recursive -->

      <!-- group diff -->
      <div class="form-elements-group" ng-show="views.group">
        <small>
          <i ng-show="(slot.diff < 0)">{{slot.diff | i18n_spec:'planboard.lessPeople'}}</i>
          <i ng-show="(slot.diff == 0)">{{ui.planboard.samePeople}}</i>
          <i ng-show="(slot.diff > 0)">{{slot.diff | i18n_spec:'planboard.morePeople'}}</i>
        </small>
      </div>
      <!-- group diff -->

      <!-- wish diff -->
      <div class="form-elements-group" ng-show="views.wish">
        <label>{{ui.planboard.wished}}</label>
        <input  name="wish-count" 
                type="text" 
                class="input-mini" 
                ng-model="slot.wish"
                ng-hide="app.resources.role > 1">
        <input  name="wish-count" 
                type="text" 
                class="input-mini" 
                ng-model="slot.wish"
                disabled
                ng-show="app.resources.role > 1">
      </div>
      <!-- end wish diff -->

      <!-- member info -->
      <div class="form-elements-group" ng-show="views.member">
        <small>
          <i>{{ui.planboard.combine_reoccuring}}</i>
        </small>
      </div>
      <!-- end member info -->

      <!-- slot actions -->
      <div class="form-elements-actions pull-right">
        
        <div ng-show="(slot.diff < 0)">
          <button type="button" 
                  ng-click="sendShortageMessage(slot)" 
                  class="btn btn-success"
                  ng-hide="app.resources.role > 1">{{ui.planboard.sendMsgToMember}}</button>
        </div>
        <div ng-show="views.slot.add">
          <button type="button" 
                  ng-click="timelineOnAdd('true', slot)" 
                  class="btn btn-success">{{ui.planboard.add}}</button>
        </div>
        <div ng-show="views.slot.edit">
          <button type="button" 
                  ng-click="timelineOnRemove()" 
                  class="btn btn-danger"
                  style="margin-right: 5px">{{ui.planboard.del}}</button>
          <button type="button" 
                  ng-click="timelineOnChange('true', original, slot)" 
                  class="btn btn-success">{{ui.planboard.change}}</button>
        </div>
        <div ng-show="views.wish">
          <button type="button" 
                  ng-click="wisher(slot)" 
                  class="btn btn-success"
                  ng-hide="app.resources.role > 1">{{ui.planboard.setWish}}</button>
        </div>
      </div>
      <!-- end slot actions -->
    </form>
  </div>
  <!-- end slot controls -->
  







  <!-- timelines & statistics -->
  <div class="row-fluid">
    <div class="tabbable tabs-left">
      


      <!-- tabs -->
      <ul class="nav nav-tabs nav-tabs-app" style="margin-right: 0px;">
        <li class="active">
          <a  href="#timelineTab" 
              data-toggle="tab"
              ng-click="destroy.statistics();"><span class="entypo">&#128340;</span> {{ui.planboard.timeline}}</a>
        </li>
      </ul>
      <!-- end tabs -->






      <!-- tabs content -->
      <div class="tab-content">





        <!-- timelines -->
        <div class="tab-pane active" id="timelineTab">

          <!-- timeline -->
          <div id="timeline">
            
            <!-- user timeline -->
            <div id="mainTimeline"></div>
            <!-- end user timeline -->

          </div>
          <!-- end timeline -->

          <hr>

          <!-- planbaord footer -->
          <p>
            <small class="pull-right">
              <span class="text-warning">{{ui.planboard.dataRangeStart}}</span>
              <span class="muted">{{data.periods.start | nicelyDate}}</span>
              &nbsp;|&nbsp;
              <span class="text-warning">{{ui.planboard.dataRangeEnd}}</span>
              <span class="muted">{{data.periods.end | nicelyDate}}</span>
            </small>
          </p>
          <!-- end planbaord footer -->

        </div>
        <!-- end timelines -->



      </div>
      <!-- end tabs content -->



    </div>
  </div>
  <!-- end timelines & statistics -->



</section>